lock for logger
fix the inconsistency for success/fail return value
